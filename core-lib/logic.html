<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Library Core Logic - LibQuiz</title>


        <!-- Custom HTML head -->
        
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];
        
            // Don't activate google analytics if running locally
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        
                ga('create', 'G-M9GYS9Z1XC', 'auto');
                ga('send', 'pageview');
            }
        </script>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Building a trivia universal library in rust">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Custom Elements -->
        <link href="https://fonts.googleapis.com/css?family=Fira+Code" rel="stylesheet">
        <style>
            code {
                font-family: 'Fira Code', sans-serif !important;
            }
        </style>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../arch.html"><strong aria-hidden="true">2.</strong> Architecture</a></li><li class="chapter-item expanded "><a href="../core-lib/index.html"><strong aria-hidden="true">3.</strong> Core Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../core-lib/setup.html"><strong aria-hidden="true">3.1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="../core-lib/logic.html" class="active"><strong aria-hidden="true">3.2.</strong> Library Core Logic</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">LibQuiz</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ghamza-rust/ghamza-rust.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="library-core-logic"><a class="header" href="#library-core-logic">Library Core Logic</a></h1>
<p>In this section, we will add the logic for our library and try running it in the Rust client crate.</p>
<h2 id="api"><a class="header" href="#api">API</a></h2>
<p>We will use the <a href="https://opentdb.com/">Open Trivia DB</a> APIs.</p>
<h2 id="fetching-categories---blocking"><a class="header" href="#fetching-categories---blocking">Fetching Categories - Blocking</a></h2>
<p>Fetching the categories is the easiest one between those APIs, a get request that requires no query params or anything.</p>
<p>First, let us test it on our terminal.</p>
<pre><code class="language-bash">curl 'https://opentdb.com/api_category.php'
</code></pre>
<p>Now let us send the same request from Rust, we're going to start by sending a blocking request, so our program won't continue
executing until we receive something, the result, or the error.</p>
<p>I like to make libraries support both async and blocking requests to give the library users the option to either throw
the concurrency to the library or manage it from the platform side, like using coroutines in Kotlin,
dispatch queue in Swift, or promises in Javascript.</p>
<p>To send a request, we need to add the <code>reqwest</code> crate in <code>quiz_core</code>.</p>
<pre><code class="language-bash">cargo add -p quiz_core reqwest --features blocking json
</code></pre>
<blockquote>
<p><em><strong>📄 Note:</strong> We've added the <code>json</code> feature to parse the response as JSON. And we've added the blocking feature to use
them to have the option of sending blocking requests.</em></p>
</blockquote>
<p>Create a file named <code>blocking.rs</code> inside the core library and declare it as a public module in <code>lib.rs</code>.</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxNzlweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjExOXB4O2hlaWdodDoxNzlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMTkgMTc5IiB3aWR0aD0iMTE5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OCIgeD0iMTYiIHk9IjE3LjEzODciPnF1aXotbGlicmFyeTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMjYiIHk9IjMxLjEwNzQiPkNhcmdvLnRvbWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjI2IiB5PSI0NS4wNzYyIj5hcHBzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYxIiB4PSIzNiIgeT0iNTkuMDQ0OSI+cnVzdF9jbGllbnQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUiIHg9IjQ2IiB5PSI3My4wMTM3Ij5DYXJnby50b21sPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5IiB4PSI0NiIgeT0iODYuOTgyNCI+c3JjPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzIiB4PSI1NiIgeT0iMTAwLjk1MTIiPm1haW4ucnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjI2IiB5PSIxMTQuOTE5OSI+cXVpel9jb3JlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1IiB4PSIzNiIgeT0iMTI4Ljg4ODciPkNhcmdvLnRvbWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkiIHg9IjM2IiB5PSIxNDIuODU3NCI+c3JjPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzMkNEMzIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2IiB4PSI0NiIgeT0iMTU2LjgyNjIiPmJsb2NraW5nLnJzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI5IiB4PSI0NiIgeT0iMTcwLjc5NDkiPmxpYi5yczwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIiIHg9IjkiIHk9IjExLjk4NDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMCIgeDI9IjEwIiB5MT0iMTQuOTg0NCIgeTI9IjI2Ljk1MzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMCIgeDI9IjE4IiB5MT0iMjYuOTUzMSIgeTI9IjI2Ljk1MzEiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIiIHg9IjE5IiB5PSIzOS45MjE5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxMCIgeTE9IjE0Ljk4NDQiIHkyPSI0MC45MjE5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxOCIgeTE9IjQwLjkyMTkiIHkyPSI0MC45MjE5Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyIiB4PSIyOSIgeT0iNTMuODkwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIwIiB4Mj0iMjAiIHkxPSI0Mi45MjE5IiB5Mj0iNTQuODkwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIwIiB4Mj0iMjgiIHkxPSI1NC44OTA2IiB5Mj0iNTQuODkwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzAiIHkxPSI1Ni44OTA2IiB5Mj0iNjguODU5NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzgiIHkxPSI2OC44NTk0IiB5Mj0iNjguODU5NCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMiIgeD0iMzkiIHk9IjgxLjgyODEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjMwIiB5MT0iNTYuODkwNiIgeTI9IjgyLjgyODEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjM4IiB5MT0iODIuODI4MSIgeTI9IjgyLjgyODEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MCIgeDI9IjQwIiB5MT0iODQuODI4MSIgeTI9Ijk2Ljc5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MCIgeDI9IjQ4IiB5MT0iOTYuNzk2OSIgeTI9Ijk2Ljc5NjkiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIiIHg9IjE5IiB5PSIxMDkuNzY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjEwIiB4Mj0iMTAiIHkxPSIxNC45ODQ0IiB5Mj0iMTEwLjc2NTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMCIgeDI9IjE4IiB5MT0iMTEwLjc2NTYiIHkyPSIxMTAuNzY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIwIiB4Mj0iMjAiIHkxPSIxMTIuNzY1NiIgeTI9IjEyNC43MzQ0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjAiIHgyPSIyOCIgeTE9IjEyNC43MzQ0IiB5Mj0iMTI0LjczNDQiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIiIHg9IjI5IiB5PSIxMzcuNzAzMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIwIiB4Mj0iMjAiIHkxPSIxMTIuNzY1NiIgeTI9IjEzOC43MDMxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjAiIHgyPSIyOCIgeTE9IjEzOC43MDMxIiB5Mj0iMTM4LjcwMzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjMwIiB5MT0iMTQwLjcwMzEiIHkyPSIxNTIuNjcxOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzgiIHkxPSIxNTIuNjcxOSIgeTI9IjE1Mi42NzE5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzMCIgeTE9IjE0MC43MDMxIiB5Mj0iMTY2LjY0MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjM4IiB5MT0iMTY2LjY0MDYiIHkyPSIxNjYuNjQwNiIvPjwhLS1TUkM9W1ZMN0hKVzhuNDdwbEwtbVp2MDlIRDRROUNLSDQzVTRJdVc2bGY1VmdmUTdORlJUeDYySnlreHIzSjQxYU52aEVwN1Bja3B0RmFqWEJvczhaOERIY0tYekxIVjFIY2ctTURJYjlNbF8yREhMMU5yQTZSU1JTN1pFb0FGbTFqaUNaZURCcE41Y1o3Vl9YVnBKX2xka1d5UUhFYWRqMTFCYXFoYXQtRTVlcnE1bVh3UEZ2cGJZVlN3cUR4bkxRZkF1cmtTdjhRX1VHTWJIQnV4Qlo1MFRUdU1fdF81UGlISy14SFJxQkNSUkl5SkdVbUtnSkQtWldpanN2dzVvcnhyQkRpakVPa2dOM0ptU0F5eTlPM0huaWN3Qm5DWHcxbnZBS1hlTm5KMk9qRUpHdG5MMms5Qm9MaGo5cmVSZXI5ZDRKYWk0VVg4NVI2S0FOTHhpUHBrQVQyNXdIYW1BdjVqelNqbnVER3c4ZlA4OVBCOXhxa29talhyUTVZcDFmNXdRSnZ6UWo2NGNOYko4QkhqZzlGV08zTVdTay1HTzBdLS0+PC9nPjwvc3ZnPg==" alt="" /></p>
<pre><code class="language-rust file=quiz_core/src/lib.rs">pub mod blocking;</code></pre>
<p>Now lets add fetch categories request</p>
<pre><code class="language-rust file=quiz_core/src/blocking.rs">use reqwest::blocking::Client;

pub fn fetch_categories_blocking() {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api_category.php&quot;)
        .send()
        .unwrap()
        .text()
        .unwrap();

    println!(&quot;{:?}&quot;, res);
}</code></pre>
<p>We will unwrap the result and worry about error handling later.</p>
<p>The final piece is to use this function in our rust client crate.</p>
<pre><code class="language-rust file=apps/rust_client/src/main.rs">use quiz_core::blocking::fetch_categories_blocking;

fn main() {
    fetch_categories_blocking();
}</code></pre>
<p>Run the app.</p>
<pre><code class="language-bash">cargo run --bin rust_client
</code></pre>
<p>You should see the same response when we ran the curl command, but uglier.</p>
<p>If we look closely at the output from our code and the curl command, we will notice that the output has a structure:</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyOThweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQ5MHB4O2hlaWdodDoyOThweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0OTAgMjk4IiB3aWR0aD0iNDkwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjIwLjI5NjkiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojRjFGMUYxO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTY5IiB4PSIxMCIgeT0iMTM4LjM1MTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTM3IiB4PSIxNSIgeT0iMTUzLjM0NjciPnRyaXZpYV9jYXRlZ29yaWVzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIxNjIiIHk9IjE1My4zNDY3Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTU3IiB4Mj0iMTU3IiB5MT0iMTM4LjM1MTYiIHkyPSIxNTguNjQ4NCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjAuMjk2OSIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxNjkiIHg9IjEwIiB5PSIxMzguMzUxNiIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTAxLjQ4NDQiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojRjFGMUYxO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMjIiIHg9IjIxNiIgeT0iOTcuNzU3OCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMjEiIHk9IjExMi43NTI5Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjE2IiB4Mj0iMjM4IiB5MT0iMTE4LjA1NDciIHkyPSIxMTguMDU0NyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMjEiIHk9IjEzMy4wNDk4Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjE2IiB4Mj0iMjM4IiB5MT0iMTM4LjM1MTYiIHkyPSIxMzguMzUxNiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMjEiIHk9IjE1My4zNDY3Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjE2IiB4Mj0iMjM4IiB5MT0iMTU4LjY0ODQiIHkyPSIxNTguNjQ4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMjEiIHk9IjE3My42NDM2Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjE2IiB4Mj0iMjM4IiB5MT0iMTc4Ljk0NTMiIHkyPSIxNzguOTQ1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMjEiIHk9IjE5My45NDA0Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMDEuNDg0NCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIyMiIgeD0iMjE2IiB5PSI5Ny43NTc4Ii8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0MC41OTM4IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6I0YxRjFGMTtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjIwMyIgeD0iMjc1IiB5PSIxMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNSIgeD0iMjgwIiB5PSIyNC45OTUxIj5pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5IiB4PSIzMzQiIHk9IjI0Ljk5NTEiPjk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzI5IiB4Mj0iMzI5IiB5MT0iMTAiIHkyPSIzMC4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjc1IiB4Mj0iNDc4IiB5MT0iMzAuMjk2OSIgeTI9IjMwLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDQiIHg9IjI4MCIgeT0iNDUuMjkyIj5uYW1lPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEzOSIgeD0iMzM0IiB5PSI0NS4yOTIiPkdlbmVyYWwgS25vd2xlZGdlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMyOSIgeDI9IjMyOSIgeTE9IjMwLjI5NjkiIHkyPSI1MC41OTM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI0MC41OTM4IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjIwMyIgeD0iMjc1IiB5PSIxMCIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDAuNTkzOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiNGMUYxRjE7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxODciIHg9IjI4MyIgeT0iNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUiIHg9IjI4OCIgeT0iODMuOTk1MSI+aWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgiIHg9IjM0MiIgeT0iODMuOTk1MSI+MTc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzM3IiB4Mj0iMzM3IiB5MT0iNjkiIHkyPSI4OS4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjgzIiB4Mj0iNDcwIiB5MT0iODkuMjk2OSIgeTI9Ijg5LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDQiIHg9IjI4OCIgeT0iMTA0LjI5MiI+bmFtZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjMiIHg9IjM0MiIgeT0iMTA0LjI5MiI+U2NpZW5jZSAmYW1wOyBOYXR1cmU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzM3IiB4Mj0iMzM3IiB5MT0iODkuMjk2OSIgeTI9IjEwOS41OTM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI0MC41OTM4IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjE4NyIgeD0iMjgzIiB5PSI2OSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDAuNTkzOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiNGMUYxRjE7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMTUiIHg9IjMxOSIgeT0iMTI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1IiB4PSIzMjQiIHk9IjE0Mi45OTUxIj5pZDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNyIgeD0iMzc4IiB5PSIxNDIuOTk1MSI+MjM8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzczIiB4Mj0iMzczIiB5MT0iMTI4IiB5Mj0iMTQ4LjI5NjkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMTkiIHgyPSI0MzQiIHkxPSIxNDguMjk2OSIgeTI9IjE0OC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ0IiB4PSIzMjQiIHk9IjE2My4yOTIiPm5hbWU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTEiIHg9IjM3OCIgeT0iMTYzLjI5MiI+SGlzdG9yeTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzNzMiIHgyPSIzNzMiIHkxPSIxNDguMjk2OSIgeTI9IjE2OC41OTM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI0MC41OTM4IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjExNSIgeD0iMzE5IiB5PSIxMjgiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQwLjU5MzgiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojRjFGMUYxO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTE2IiB4PSIzMTguNSIgeT0iMTg3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1IiB4PSIzMjMuNSIgeT0iMjAxLjk5NTEiPmlkPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2IiB4PSIzNzcuNSIgeT0iMjAxLjk5NTEiPjI0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjM3Mi41IiB4Mj0iMzcyLjUiIHkxPSIxODciIHkyPSIyMDcuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMxOC41IiB4Mj0iNDM0LjUiIHkxPSIyMDcuMjk2OSIgeTI9IjIwNy4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ0IiB4PSIzMjMuNSIgeT0iMjIyLjI5MiI+bmFtZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MiIgeD0iMzc3LjUiIHk9IjIyMi4yOTIiPlBvbGl0aWNzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjM3Mi41IiB4Mj0iMzcyLjUiIHkxPSIyMDcuMjk2OSIgeTI9IjIyNy41OTM4Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI0MC41OTM4IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjExNiIgeD0iMzE4LjUiIHk9IjE4NyIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDAuNTkzOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiNGMUYxRjE7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMjAiIHg9IjMxNi41IiB5PSIyNDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTUiIHg9IjMyMS41IiB5PSIyNjAuOTk1MSI+aWQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTciIHg9IjM3NS41IiB5PSIyNjAuOTk1MSI+Mjc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzcwLjUiIHgyPSIzNzAuNSIgeTE9IjI0NiIgeTI9IjI2Ni4yOTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzE2LjUiIHgyPSI0MzYuNSIgeTE9IjI2Ni4yOTY5IiB5Mj0iMjY2LjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDQiIHg9IjMyMS41IiB5PSIyODEuMjkyIj5uYW1lPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU2IiB4PSIzNzUuNSIgeT0iMjgxLjI5MiI+QW5pbWFsczwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzNzAuNSIgeDI9IjM3MC41IiB5MT0iMjY2LjI5NjkiIHkyPSIyODYuNTkzOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNDAuNTkzOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxMjAiIHg9IjMxNi41IiB5PSIyNDYiLz48cGF0aCBkPSJNMjI2LDEwNy41IEwyMzksMTA3LjUgQzI2NS42NjY3LDEwNy41IDI1My4wNDMxLDc0LjYzMyAyNzUsNTkuNSBDMjc3LjQzMzksNTcuODIyNSAyNzkuOTY0Myw1Ni4yNDEyIDI4Mi41NjkzLDU0Ljc1MDYgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTI4NC4wNjQzLDU3LjU3MjQgTDI4NC42ODU2LDUzLjYyOTQgTDI4MS4wNzQyLDUxLjkyODggTDI4OS42MjM3LDUxLjAxMzEgTDI4NC4wNjQzLDU3LjU3MjQgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iMjI2IiBjeT0iMTA3LjUiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTIyNiwxMjguNSBMMjM5LDEyOC41IEMyNDIuNTE5NCwxMjguNSAyNzAuMDA1MiwxMjAuNzg2MyAyOTkuNDQ0MSwxMTIuMjIgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTMwMC4zMjEsMTE1LjIyNTIgTDMwMS42OTgxLDExMS41NjIzIEwyOTguNTY3MywxMDkuMjE0NyBMMzA2Ljk1NzMsMTEwLjAyNzkgTDMwMC4zMjEsMTE1LjIyNTIgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iMjI2IiBjeT0iMTI4LjUiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTIyNiwxNDguNSBMMjM5LDE0OC41IEMyNjIuNzE5NywxNDguNSAyODguNzQ5NCwxNDguNSAzMTEuNjg5OCwxNDguNSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6My4wLDMuMDsiLz48cGF0aCBkPSJNMzExLjY4OTgsMTUxLjU2MTQgTDMxMy45ODU5LDE0OC41IEwzMTEuNjg5OCwxNDUuNDM4NiBMMzE5LjM0MzQsMTQ4LjUgTDMxMS42ODk4LDE1MS41NjE0ICIgZmlsbD0iIzAwMDAwMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PGVsbGlwc2UgY3g9IjIyNiIgY3k9IjE0OC41IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMjYsMTY4LjUgTDIzOSwxNjguNSBDMjQwLjAyMDksMTY4LjUgMjc2LjQ2OTQsMTc4Ljg4NTIgMzExLjUxMDMsMTg4LjkzNzQgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTMxMC42NTU4LDE5MS45MTQ1IEwzMTMuNzQzMSwxODkuNTc4MiBMMzEyLjM2NDcsMTg1Ljk2MDMgTDMxOC45NTMsMTkxLjA3MzUgTDMxMC42NTU4LDE5MS45MTQ1ICIgZmlsbD0iIzAwMDAwMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PGVsbGlwc2UgY3g9IjIyNiIgY3k9IjE2OC41IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMjYsMTg5LjUgTDIzOSwxODkuNSBDMjY1LjY2NjcsMTg5LjUgMjUzLjA0MzEsMjIyLjM2NyAyNzUsMjM3LjUgQzI4NS4zNTkzLDI0NC42Mzk4IDI5Ny40NjcsMjUwLjAzNzQgMzA5LjYyOTMsMjU0LjExMzMgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTMwOC43MjkyLDI1Ni45NzUgTDMxMS43NzU3LDI1NC43ODgzIEwzMTAuNTI5NCwyNTEuMjUxNSBMMzE2Ljc4MzgsMjU2LjM2MzUgTDMwOC43MjkyLDI1Ni45NzUgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iMjI2IiBjeT0iMTg5LjUiIGZpbGw9IiMwMDAwMDAiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTE2NywxNDguNSBMMTgwLDE0OC41IEMxODkuNDIxMywxNDguNSAxOTkuOTE2NCwxNDguNSAyMDguNTQ4MywxNDguNSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6My4wLDMuMDsiLz48cGF0aCBkPSJNMjA4LjU0ODMsMTUxLjU0MzcgTDIxMC44MzExLDE0OC41IEwyMDguNTQ4MywxNDUuNDU2MyBMMjE2LjE1NzUsMTQ4LjUgTDIwOC41NDgzLDE1MS41NDM3ICIgZmlsbD0iIzAwMDAwMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PGVsbGlwc2UgY3g9IjE2NyIgY3k9IjE0OC41IiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1TUkM9W1ZQMUZReTkwNENObC1vYzY3OGcySWV0SUxhX3Nack1pNE1kS0lvYmJKUVBYc2NITURmQ0s0Unp4cm5IRkFMdTZ2aXR4Q0pEbGI4a3N5ZktSTFdTNXU4Y2JhbEg3ZjBLSk9tYnBSbVhsUlcxbWdBZ3BLRW9xR1VsU2lpeEcyVHU0NlFyRXVPTkRKdWZuV2J4YkVCUi1lUmt0REpvQzIzYjJrOEE1Ymk5VWVsclVaUHZJQmlSa0JxN3o2aEdxQUdiNS1JTWdWa1d6S3dSSkMtSmdrcGdnNE45U1hRWU1nTVBQMXRDZXFVUGE2QmVUX3pobFRHUFI1RXF0cmxwanljNjhKQlFaNTQ0ZW13UGdKOVBwbzRyWE5HMm5VeU5JalgwN0R6TENibmZVMnB4dlhkM2c2Z2tXMlU3dUJDQU9JeEE2Q3NISGlxdG1QdUFmYU4xZGYzQlZ6RGlGOTEyWVRKVjE5YjFGLUFjQkwxbVFjUFd1NlM5d3pUby1LdEZESVE0SmptWFBGSGd0bUV4VEJGbTVdLS0+PC9nPjwvc3ZnPg==" alt="" /></p>
<p>So our response contains a field named <code>trivia_categories</code>, which has an array of objects (in our case, a structure).
Each object has an <code>id</code> and a <code>name</code>.</p>
<p>Create a file <code>dto.rs</code>. This will store our DTOs (data transfer objects). Add it as a public module to <code>lib.rs</code>.</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxOTNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjExOXB4O2hlaWdodDoxOTNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxMTkgMTkzIiB3aWR0aD0iMTE5cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OCIgeD0iMTYiIHk9IjE3LjEzODciPnF1aXotbGlicmFyeTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMjYiIHk9IjMxLjEwNzQiPkNhcmdvLnRvbWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjI2IiB5PSI0NS4wNzYyIj5hcHBzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYxIiB4PSIzNiIgeT0iNTkuMDQ0OSI+cnVzdF9jbGllbnQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUiIHg9IjQ2IiB5PSI3My4wMTM3Ij5DYXJnby50b21sPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5IiB4PSI0NiIgeT0iODYuOTgyNCI+c3JjPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzIiB4PSI1NiIgeT0iMTAwLjk1MTIiPm1haW4ucnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjI2IiB5PSIxMTQuOTE5OSI+cXVpel9jb3JlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1IiB4PSIzNiIgeT0iMTI4Ljg4ODciPkNhcmdvLnRvbWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkiIHg9IjM2IiB5PSIxNDIuODU3NCI+c3JjPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2IiB4PSI0NiIgeT0iMTU2LjgyNjIiPmJsb2NraW5nLnJzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzMkNEMzIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM1IiB4PSI0NiIgeT0iMTcwLjc5NDkiPmR0by5yczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOSIgeD0iNDYiIHk9IjE4NC43NjM3Ij5saWIucnM8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyIiB4PSI5IiB5PSIxMS45ODQ0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxMCIgeTE9IjE0Ljk4NDQiIHkyPSIyNi45NTMxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxOCIgeTE9IjI2Ljk1MzEiIHkyPSIyNi45NTMxIi8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyIiB4PSIxOSIgeT0iMzkuOTIxOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjEwIiB4Mj0iMTAiIHkxPSIxNC45ODQ0IiB5Mj0iNDAuOTIxOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjEwIiB4Mj0iMTgiIHkxPSI0MC45MjE5IiB5Mj0iNDAuOTIxOSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMiIgeD0iMjkiIHk9IjUzLjg5MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMCIgeDI9IjIwIiB5MT0iNDIuOTIxOSIgeTI9IjU0Ljg5MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMCIgeDI9IjI4IiB5MT0iNTQuODkwNiIgeTI9IjU0Ljg5MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjMwIiB5MT0iNTYuODkwNiIgeTI9IjY4Ljg1OTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjM4IiB5MT0iNjguODU5NCIgeTI9IjY4Ljg1OTQiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIiIHg9IjM5IiB5PSI4MS44MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzMCIgeTE9IjU2Ljg5MDYiIHkyPSI4Mi44MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzOCIgeTE9IjgyLjgyODEiIHkyPSI4Mi44MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDAiIHgyPSI0MCIgeTE9Ijg0LjgyODEiIHkyPSI5Ni43OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDAiIHgyPSI0OCIgeTE9Ijk2Ljc5NjkiIHkyPSI5Ni43OTY5Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyIiB4PSIxOSIgeT0iMTA5Ljc2NTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMCIgeDI9IjEwIiB5MT0iMTQuOTg0NCIgeTI9IjExMC43NjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxOCIgeTE9IjExMC43NjU2IiB5Mj0iMTEwLjc2NTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMCIgeDI9IjIwIiB5MT0iMTEyLjc2NTYiIHkyPSIxMjQuNzM0NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIwIiB4Mj0iMjgiIHkxPSIxMjQuNzM0NCIgeTI9IjEyNC43MzQ0Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyIiB4PSIyOSIgeT0iMTM3LjcwMzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMCIgeDI9IjIwIiB5MT0iMTEyLjc2NTYiIHkyPSIxMzguNzAzMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIwIiB4Mj0iMjgiIHkxPSIxMzguNzAzMSIgeTI9IjEzOC43MDMxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzMCIgeTE9IjE0MC43MDMxIiB5Mj0iMTUyLjY3MTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjM4IiB5MT0iMTUyLjY3MTkiIHkyPSIxNTIuNjcxOSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzAiIHkxPSIxNDAuNzAzMSIgeTI9IjE2Ni42NDA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzOCIgeTE9IjE2Ni42NDA2IiB5Mj0iMTY2LjY0MDYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjMwIiB5MT0iMTQwLjcwMzEiIHkyPSIxODAuNjA5NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzgiIHkxPSIxODAuNjA5NCIgeTI9IjE4MC42MDk0Ii8+PCEtLVNSQz1bVkw1WEp5OG00RnRVTnQ0VjhHa0JlWjVBWjI0WVFXWEJZMEUtYWN3aElxRk5jelNSMVdkX3RNdzgyT1pTYndSbGxVanhsVWl4YmlIRTZYT1IwUnVzcS1RZUF1MkZJZHpyWjR2OHFsZU5SZ1cwMWY5bzMxYUJTeXA4aWRHN3MwdUZXMmg3WXpIZVBWYUZfd0Z2enpxM1pRRnE5QmFOMTUxOFJLRG9uejdnM29ySTk3S290bmRoU3d3RE9NOG1OTWdSN3ZpVVlFdkpENFd6ZW1rTGFyQnM4TUN5cy0xZGwtVXRPWWx3b2NSRGhpSjRJQ2twUTBtaEhLd1pYU2ttVXo2ejJreUluUkJSY2pjYm5LeUJBSFFiRFdoT0V4UDV3c0tvMWVTTGZHZW94UFhxS2g1bFJla0hONGJ1Z3NvandxNXpRcXNaRGlKM0ZHWDNrekE0amdYdER2ZjdFbjZ5OGlTYlNZRS1rVXV5UWVQT2FTeTR5cVd5Z05UUDZWUWpBTVAtRDNzT0pQeXhqczhpUkx4OXQxaWZBbVJlM01aamtWV1JdLS0+PC9nPjwvc3ZnPg==" alt="" /></p>
<pre><code class="language-rust hl=[2] file=quiz_core/src/lib.rs">pub mod blocking;
pub mod dto;</code></pre>
<pre><code class="language-rust file=quiz_core/src/dto.rs">struct CategoryResponse {
    trivia_categories: Vec&lt;Category&gt;,
}

struct Category {
    id: u32,
    name: String,
}</code></pre>
<p>Now to convert the response from a JSON string to our structure, we need to use a crate called serde and serde_json.</p>
<pre><code class="language-bash">cargo add -p quiz_core serde_json serde --features serde/derive
</code></pre>
<p>Serde is a framework for efficiently and generically serializing Rust data structures.</p>
<p>Serializing converts a data structure to another representation that can be stored in a file and
transmitted over the network. Deserializing is the opposite action.</p>
<p>Other crates use <code>serde</code> to serialize and deserialize to a specific representation. We're using <code>serde_json</code> to
convert to and from JSON.</p>
<p>Here we also add the <code>derive</code> feature for <code>serde</code>. The <code>derive</code> feature gives us the ability to declare a structure
to be serializable or deserializable, or both by using the derive macro.</p>
<p>Let us declare the same structure and add <code>Deserialize</code> and <code>Debug</code> so that we can print the structure in an appealing way.</p>
<pre><code class="language-rust hl=[1 3 9] file=quiz_core/src/dto.rs">use serde::Deserialize;

#[derive(Deserialize, Debug)]
struct Category {
    id: u32,
    name: String,
}

#[derive(Deserialize, Debug)]
struct CategoryResponse {
    trivia_categories: Vec&lt;Category&gt;,
}</code></pre>
<p>Now we can deserialize the request from JSON to our data structure.</p>
<pre><code class="language-rust hl=[2 10 13] file=quiz_core/src/blocking.rs"> use reqwest::blocking::Client;
 use crate::dto::CategoryResponse;

 pub fn fetch_categories_blocking() {
     let client = Client::new();
     let res = client
         .get(&quot;https://opentdb.com/api_category.php&quot;)
         .send()
         .unwrap()
         .json::&lt;CategoryResponse&gt;()
         .unwrap();

     println!(&quot;{:#?}&quot;, res);
 }</code></pre>
<p>And finally, run the rust client.</p>
<pre><code class="language-bash">cargo run --bin rust_client
</code></pre>
<p>Our output should be prettier now.</p>
<pre><code class="language-text">CategoryResponse {
    trivia_categories: [
        Category {
            id: 9,
            name: &quot;General Knowledge&quot;,
        },
        Category {
            id: 10,
            name: &quot;Entertainment: Books&quot;,
        },
...
</code></pre>
<h2 id="fetching-categories---async"><a class="header" href="#fetching-categories---async">Fetching Categories - Async</a></h2>
<p>Now let's implement the async version of the same request.</p>
<p>Create a file named <code>asynchronous.rs</code> inside the core library and declare it as a public module in <code>lib.rs</code>.</p>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyMDdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjE1MnB4O2hlaWdodDoyMDdweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNTIgMjA3IiB3aWR0aD0iMTUycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2OCIgeD0iMTYiIHk9IjE3LjEzODciPnF1aXotbGlicmFyeTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iMjYiIHk9IjMxLjEwNzQiPkNhcmdvLnRvbWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjI2IiB5PSI0NS4wNzYyIj5hcHBzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYxIiB4PSIzNiIgeT0iNTkuMDQ0OSI+cnVzdF9jbGllbnQ8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjUiIHg9IjQ2IiB5PSI3My4wMTM3Ij5DYXJnby50b21sPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5IiB4PSI0NiIgeT0iODYuOTgyNCI+c3JjPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQzIiB4PSI1NiIgeT0iMTAwLjk1MTIiPm1haW4ucnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjI2IiB5PSIxMTQuOTE5OSI+cXVpel9jb3JlPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY1IiB4PSIzNiIgeT0iMTI4Ljg4ODciPkNhcmdvLnRvbWw8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkiIHg9IjM2IiB5PSIxNDIuODU3NCI+c3JjPC90ZXh0Pjx0ZXh0IGZpbGw9IiMzMkNEMzIiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEyIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk5IiB4PSI0NiIgeT0iMTU2LjgyNjIiPmFzeW5jaHJvbm91cy5yczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NiIgeD0iNDYiIHk9IjE3MC43OTQ5Ij5ibG9ja2luZy5yczwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMiIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNSIgeD0iNDYiIHk9IjE4NC43NjM3Ij5kdG8ucnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTIiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjkiIHg9IjQ2IiB5PSIxOTguNzMyNCI+bGliLnJzPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMiIgeD0iOSIgeT0iMTEuOTg0NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjEwIiB4Mj0iMTAiIHkxPSIxNC45ODQ0IiB5Mj0iMjYuOTUzMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjEwIiB4Mj0iMTgiIHkxPSIyNi45NTMxIiB5Mj0iMjYuOTUzMSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMiIgeD0iMTkiIHk9IjM5LjkyMTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMCIgeDI9IjEwIiB5MT0iMTQuOTg0NCIgeTI9IjQwLjkyMTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMCIgeDI9IjE4IiB5MT0iNDAuOTIxOSIgeTI9IjQwLjkyMTkiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjIiIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIiIHg9IjI5IiB5PSI1My44OTA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjAiIHgyPSIyMCIgeTE9IjQyLjkyMTkiIHkyPSI1NC44OTA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjAiIHgyPSIyOCIgeTE9IjU0Ljg5MDYiIHkyPSI1NC44OTA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzMCIgeTE9IjU2Ljg5MDYiIHkyPSI2OC44NTk0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzOCIgeTE9IjY4Ljg1OTQiIHkyPSI2OC44NTk0Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyIiBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyIiB4PSIzOSIgeT0iODEuODI4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzAiIHkxPSI1Ni44OTA2IiB5Mj0iODIuODI4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzgiIHkxPSI4Mi44MjgxIiB5Mj0iODIuODI4MSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQwIiB4Mj0iNDAiIHkxPSI4NC44MjgxIiB5Mj0iOTYuNzk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQwIiB4Mj0iNDgiIHkxPSI5Ni43OTY5IiB5Mj0iOTYuNzk2OSIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMiIgeD0iMTkiIHk9IjEwOS43NjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxMCIgeTE9IjE0Ljk4NDQiIHkyPSIxMTAuNzY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjEwIiB4Mj0iMTgiIHkxPSIxMTAuNzY1NiIgeTI9IjExMC43NjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjAiIHgyPSIyMCIgeTE9IjExMi43NjU2IiB5Mj0iMTI0LjczNDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMCIgeDI9IjI4IiB5MT0iMTI0LjczNDQiIHkyPSIxMjQuNzM0NCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMiIgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMiIgeD0iMjkiIHk9IjEzNy43MDMxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjAiIHgyPSIyMCIgeTE9IjExMi43NjU2IiB5Mj0iMTM4LjcwMzEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyMCIgeDI9IjI4IiB5MT0iMTM4LjcwMzEiIHkyPSIxMzguNzAzMSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzAiIHkxPSIxNDAuNzAzMSIgeTI9IjE1Mi42NzE5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzOCIgeTE9IjE1Mi42NzE5IiB5Mj0iMTUyLjY3MTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjMwIiB5MT0iMTQwLjcwMzEiIHkyPSIxNjYuNjQwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzgiIHkxPSIxNjYuNjQwNiIgeTI9IjE2Ni42NDA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzMCIgeTE9IjE0MC43MDMxIiB5Mj0iMTgwLjYwOTQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiM4ODg4ODg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzMCIgeDI9IjM4IiB5MT0iMTgwLjYwOTQiIHkyPSIxODAuNjA5NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6Izg4ODg4ODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjMwIiB4Mj0iMzAiIHkxPSIxNDAuNzAzMSIgeTI9IjE5NC41NzgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojODg4ODg4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzAiIHgyPSIzOCIgeTE9IjE5NC41NzgxIiB5Mj0iMTk0LjU3ODEiLz48IS0tU1JDPVtWTDdISlc4bjQ3cGxMLW1adkM5NXFIV2JuWDBIRE9IQlkwVXlhYndsZFdzekJjdlIzMUJfdFR1WDlZM1VsWklUY1V0Q1RsbE1TTkFNUXlVczM0OWpmX0xITEdKbE5kcnNqQ2c4cS1PTmhnYTgxZm1BWjFzTS1mWlhndkt6bTdQdTFFSWpNbVlqZjc1Xy0xX0RsLXlVUTJvOWEtSFU0NDc5Yk9kOTdhVWgxYmU4OTdhb051RHJhc2pqVTJqRzhfTXFBY0wxS2ZleFJaVDZsMTRRekZPdW9LNWRmYjRpYklhUUhSZDNIWnVpUVN6X2lJX01ib1FsYnllY2NYaXRJeVFtYmNHTDZaWUZrc1ZUWV9XY2F1dnRNcEVwREZYWEc2MnZLYmcyMl9kUmhGS3E2T0Q1SnE5MmhnbVpiTmFOY2pqaW5EU1NOaG9mVDNzZVJncmZxZVBxazBUWFFET2dKNXJNSW54RGF2cThkajZiQXRJci1FZ29Td3lTZjk5MjlmV2R4NDYtU2d6VFExTU9Ydl9lbU1wd3NCYmNPc3VBcHVqVzkwcVJPMzJXSlUzSVJtMDBdLS0+PC9nPjwvc3ZnPg==" alt="" /></p>
<pre><code class="language-rust hl=[1] file=quiz_core/src/lib.rs">pub mod asynchronous;
pub mod blocking;
pub mod dto;</code></pre>
<p>Now lets add fetch categories request</p>
<pre><code class="language-rust file=quiz_core/src/asynchronous.rs">use crate::dto::CategoryResponse;
use reqwest::Client;

pub async fn fetch_categories_async() {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api_category.php&quot;)
        .send()
        .await
        .unwrap()
        .json::&lt;CategoryResponse&gt;()
        .await
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}</code></pre>
<blockquote>
<p><em><strong>📄 Note:</strong> The .await instead of await keyword is a game changer in syntax verbosity. For example, the
same code in JS or Swift will require us to have parenthesis if we want to have it on a single line.</em></p>
<p>Example: <code>await (await client.get()).json()</code> so with every <code>await</code> you'll be one step closer to being LISP.</p>
</blockquote>
<p>Now before adding it to the client, we need an async runtime.</p>
<p>Async in Rust is pretty interesting. When marking a function or a block as <code>async</code> we leave the concurrency to be handled
by the runtime implementor. Runtime implementers can then use threads to handle concurrency or event loops if, for example,
we're targeting a system with limited resources like embedded systems.</p>
<p>We will use tokio's runtime for our client app.</p>
<p>Install it with:</p>
<pre><code class="language-bash">cargo add tokio --features rt macros rt-multi-thread
</code></pre>
<p>And finally, modify the client crate to use the async version.</p>
<pre><code class="language-rust hl=[1 3 7-10] file=apps/rust_client/src/main.rs">use quiz_core::asynchronous::fetch_categories_async;
use quiz_core::blocking::fetch_categories_blocking;
use tokio::runtime::Runtime;

fn main() {
    fetch_categories_blocking();
    let rt = Runtime::new().unwrap();
    rt.block_on(async {
        fetch_categories_async().await;
    });
}</code></pre>
<h2 id="fetching-questions"><a class="header" href="#fetching-questions">Fetching Questions</a></h2>
<p>Fetching questions requires a little bit more effort since we need to pass query params.</p>
<p>But first let us try and send a curl request,</p>
<pre><code class="language-bash">curl 'https://opentdb.com/api.php?amount=1'
</code></pre>
<p>Now we want to create another stucture for the request. It will only contain the <code>amount</code> field.</p>
<pre><code class="language-rust hl=[6-14] file=quiz_core/src/dto.rs">#[derive(Deserialize, Debug)]
pub struct CategoryResponse {
    trivia_categories: Vec&lt;Category&gt;,
}

#[derive(Serialize, Debug)]
pub struct QuestionRequest {
    amount: u32,
}

impl QuestionRequest {
    pub fn new(amount: u32) -&gt; Self {
        Self { amount }
    }
}</code></pre>
<p>We've made <code>QuestionRequest</code> serializable so we can convert it to a query string.</p>
<blockquote>
<p><em><strong>📄 Note:</strong> As you can see we use <code>serde</code> for JSON and query string serialization. This is the power of <code>serde</code>,
being generic in seralization and deserialization and not being tied to a specific format.</em></p>
</blockquote>
<p>Then, we can add the get requests for the questions.</p>
<pre><code class="language-rust hl=[1 16 27] file=quiz_core/src/blocking.rs">use crate::dto::{CategoryResponse, QuestionRequest};
use reqwest::blocking::Client;

pub fn fetch_categories_blocking() {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api_category.php&quot;)
        .send()
        .unwrap()
        .json::&lt;CategoryResponse&gt;()
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}

pub fn fetch_questions_blocking(query_params: QuestionRequest) {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api.php&quot;)
        .query(&amp;query_params)
        .send()
        .unwrap()
        .text()
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}</code></pre>
<pre><code class="language-rust hl=[1 18-31] file=quiz_core/src/asynchronous.rs">use crate::dto::{CategoryResponse, QuestionRequest};
use reqwest::Client;

pub async fn fetch_categories_async() {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api_category.php&quot;)
        .send()
        .await
        .unwrap()
        .json::&lt;CategoryResponse&gt;()
        .await
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}

pub async fn fetch_questions_async(query_params: QuestionRequest) {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api.php&quot;)
        .query(&amp;query_params)
        .send()
        .await
        .unwrap()
        .text()
        .await
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}</code></pre>
<p>Finally, we can use these functions inside our client crate:</p>
<pre><code class="language-rust hl=[1-3 8 12] file=apps/rust_client/src/main.rs">use quiz_core::asynchronous::{fetch_categories_async, fetch_questions_async};
use quiz_core::blocking::{fetch_categories_blocking, fetch_questions_blocking};
use quiz_core::dto::QuestionRequest;
use tokio::runtime::Runtime;

fn main() {
    fetch_categories_blocking();
    fetch_questions_blocking(QuestionRequest::new(10));
    let rt = Runtime::new().unwrap();
    rt.block_on(async {
        fetch_categories_async().await;
        fetch_questions_async(QuestionRequest::new(10)).await;
    });
}</code></pre>
<h2 id="parsing-questions"><a class="header" href="#parsing-questions">Parsing Questions</a></h2>
<p>Looking at the API response more closely we can notice that:</p>
<ul>
<li>We have 2 types of questions, multiple choice and true or false.</li>
<li>Difficulty is either easy, medium or hard.</li>
</ul>
<p><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyODRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjkwMnB4O2hlaWdodDoyODRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA5MDIgMjg0IiB3aWR0aD0iOTAycHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQwLjU5MzgiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojRjFGMUYxO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMTUwIiB4PSIxMCIgeT0iMTEwLjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE4IiB4PSIxNSIgeT0iMTI1LjQ5NTEiPnJlc3BvbnNlX2NvZGU8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOSIgeD0iMTQzIiB5PSIxMjUuNDk1MSI+MDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIxMzgiIHgyPSIxMzgiIHkxPSIxMTAuNSIgeTI9IjEzMC43OTY5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTAiIHgyPSIxNjAiIHkxPSIxMzAuNzk2OSIgeTI9IjEzMC43OTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU3IiB4PSIxNSIgeT0iMTQ1Ljc5MiI+cmVzdWx0czwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMiIgeD0iMTQzIiB5PSIxNDUuNzkyIj4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTM4IiB4Mj0iMTM4IiB5MT0iMTMwLjc5NjkiIHkyPSIxNTEuMDkzOCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNDAuNTkzOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIxNTAiIHg9IjEwIiB5PSIxMTAuNSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDAuNTkzOCIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiNGMUYxRjE7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSIyMiIgeD0iMTk3IiB5PSIxMjAuNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMDIiIHk9IjEzNS40OTUxIj4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTk3IiB4Mj0iMjE5IiB5MT0iMTQwLjc5NjkiIHkyPSIxNDAuNzk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSIyMDIiIHk9IjE1NS43OTIiPiYjMTYwOyYjMTYwOyYjMTYwOzwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjQwLjU5MzgiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMjIiIHg9IjE5NyIgeT0iMTIwLjUiLz48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyMS43ODEzIiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6I0YxRjFGMTtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjM3MyIgeD0iMzQzIiB5PSIxMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MiIgeD0iMzQ4IiB5PSIyNC45OTUxIj5jYXRlZ29yeTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iNTA2IiB5PSIyNC45OTUxIj5BbmltYWxzPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjUwMSIgeDI9IjUwMSIgeTE9IjEwIiB5Mj0iMzAuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjM0MyIgeDI9IjcxNiIgeTE9IjMwLjI5NjkiIHkyPSIzMC4yOTY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM2IiB4PSIzNDgiIHk9IjQ1LjI5MiI+dHlwZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MCIgeD0iNTA2IiB5PSI0NS4yOTIiPm11bHRpcGxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjUwMSIgeDI9IjUwMSIgeTE9IjMwLjI5NjkiIHkyPSI1MC41OTM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzQzIiB4Mj0iNzE2IiB5MT0iNTAuNTkzOCIgeTI9IjUwLjU5MzgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzUiIHg9IjM0OCIgeT0iNjUuNTg4OSI+ZGlmZmljdWx0eTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMiIgeD0iNTA2IiB5PSI2NS41ODg5Ij5lYXN5PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjUwMSIgeDI9IjUwMSIgeTE9IjUwLjU5MzgiIHkyPSI3MC44OTA2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzQzIiB4Mj0iNzE2IiB5MT0iNzAuODkwNiIgeTI9IjcwLjg5MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEiIHg9IjM0OCIgeT0iODUuODg1NyI+cXVlc3Rpb248L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA1IiB4PSI1MDYiIHk9Ijg1Ljg4NTciPldoYXQgZG8geW91IGNhbGwgYSBiYWJ5IGJhdD88L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTAxIiB4Mj0iNTAxIiB5MT0iNzAuODkwNiIgeTI9IjkxLjE4NzUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIzNDMiIHgyPSI3MTYiIHkxPSI5MS4xODc1IiB5Mj0iOTEuMTg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjQiIHg9IjM0OCIgeT0iMTA2LjE4MjYiPmNvcnJlY3RfYW5zd2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjI3IiB4PSI1MDYiIHk9IjEwNi4xODI2Ij5QdXA8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTAxIiB4Mj0iNTAxIiB5MT0iOTEuMTg3NSIgeTI9IjExMS40ODQ0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMzQzIiB4Mj0iNzE2IiB5MT0iMTExLjQ4NDQiIHkyPSIxMTEuNDg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNDgiIHg9IjM0OCIgeT0iMTI2LjQ3OTUiPmluY29ycmVjdF9hbnN3ZXJzPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyIiB4PSI1MDYiIHk9IjEyNi40Nzk1Ij4mIzE2MDsmIzE2MDsmIzE2MDs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTAxIiB4Mj0iNTAxIiB5MT0iMTExLjQ4NDQiIHkyPSIxMzEuNzgxMyIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTIxLjc4MTMiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iMzczIiB4PSIzNDMiIHk9IjEwIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2MC44OTA2IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6I0YxRjFGMTtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjUwIiB4PSI4NDAiIHk9IjkxLjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOCIgeD0iODQ1IiB5PSIxMDYuNDk1MSI+Q3ViPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9Ijg0MCIgeDI9Ijg5MCIgeTE9IjExMS43OTY5IiB5Mj0iMTExLjc5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MCIgeD0iODQ1IiB5PSIxMjYuNzkyIj5DaGljazwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI4NDAiIHgyPSI4OTAiIHkxPSIxMzIuMDkzOCIgeTI9IjEzMi4wOTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjMiIHg9Ijg0NSIgeT0iMTQ3LjA4ODkiPktpZDwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYwLjg5MDYiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTAiIHg9Ijg0MCIgeT0iOTEuNSIvPjxyZWN0IGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTIxLjc4MTMiIHJ4PSI1IiByeT0iNSIgc3R5bGU9InN0cm9rZTojRjFGMUYxO3N0cm9rZS13aWR0aDoxLjU7IiB3aWR0aD0iNTQ3IiB4PSIyNTYiIHk9IjE1MCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MiIgeD0iMjYxIiB5PSIxNjQuOTk1MSI+Y2F0ZWdvcnk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEwIiB4PSI0MTkiIHk9IjE2NC45OTUxIj5FbnRlcnRhaW5tZW50OiBWaWRlbyBHYW1lczwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MTQiIHgyPSI0MTQiIHkxPSIxNTAiIHkyPSIxNzAuMjk2OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1NiIgeDI9IjgwMyIgeTE9IjE3MC4yOTY5IiB5Mj0iMTcwLjI5NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzYiIHg9IjI2MSIgeT0iMTg1LjI5MiI+dHlwZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OCIgeD0iNDE5IiB5PSIxODUuMjkyIj5ib29sZWFuPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQxNCIgeDI9IjQxNCIgeTE9IjE3MC4yOTY5IiB5Mj0iMTkwLjU5MzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTYiIHgyPSI4MDMiIHkxPSIxOTAuNTkzOCIgeTI9IjE5MC41OTM4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc1IiB4PSIyNjEiIHk9IjIwNS41ODg5Ij5kaWZmaWN1bHR5PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU4IiB4PSI0MTkiIHk9IjIwNS41ODg5Ij5tZWRpdW08L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNDE0IiB4Mj0iNDE0IiB5MT0iMTkwLjU5MzgiIHkyPSIyMTAuODkwNiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjI1NiIgeDI9IjgwMyIgeTE9IjIxMC44OTA2IiB5Mj0iMjEwLjg5MDYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzEiIHg9IjI2MSIgeT0iMjI1Ljg4NTciPnF1ZXN0aW9uPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM3OSIgeD0iNDE5IiB5PSIyMjUuODg1NyI+TmludGVuZG8gc3RhcnRlZCBvdXQgYXMgYSBwbGF5aW5nIGNhcmQgbWFudWZhY3R1cmVyLjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MTQiIHgyPSI0MTQiIHkxPSIyMTAuODkwNiIgeTI9IjIzMS4xODc1Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjU2IiB4Mj0iODAzIiB5MT0iMjMxLjE4NzUiIHkyPSIyMzEuMTg3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMjQiIHg9IjI2MSIgeT0iMjQ2LjE4MjYiPmNvcnJlY3RfYW5zd2VyPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMyIiB4PSI0MTkiIHk9IjI0Ni4xODI2Ij5UcnVlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjQxNCIgeDI9IjQxNCIgeTE9IjIzMS4xODc1IiB5Mj0iMjUxLjQ4NDQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTYiIHgyPSI4MDMiIHkxPSIyNTEuNDg0NCIgeTI9IjI1MS40ODQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0OCIgeD0iMjYxIiB5PSIyNjYuNDc5NSI+aW5jb3JyZWN0X2Fuc3dlcnM8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIiIHg9IjQxOSIgeT0iMjY2LjQ3OTUiPiYjMTYwOyYjMTYwOyYjMTYwOzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI0MTQiIHgyPSI0MTQiIHkxPSIyNTEuNDg0NCIgeTI9IjI3MS43ODEzIi8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMjEuNzgxMyIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI1NDciIHg9IjI1NiIgeT0iMTUwIi8+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIyMC4yOTY5IiByeD0iNSIgcnk9IjUiIHN0eWxlPSJzdHJva2U6I0YxRjFGMTtzdHJva2Utd2lkdGg6MS41OyIgd2lkdGg9IjQ2IiB4PSI4NDIiIHk9IjI1MS44NTE2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzYiIHg9Ijg0NyIgeT0iMjY2Ljg0NjciPkZhbHNlPC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjAuMjk2OSIgcng9IjUiIHJ5PSI1IiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHdpZHRoPSI0NiIgeD0iODQyIiB5PSIyNTEuODUxNiIvPjxwYXRoIGQ9Ik03MDUsMTIyIEw3MTgsMTIyIEM3NTcuNTc0MywxMjIgODAzLjE2MTgsMTIyIDgzMi44MzM1LDEyMiAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6My4wLDMuMDsiLz48cGF0aCBkPSJNODMyLjgzMzUsMTI1LjAyMyBMODM1LjEwMDgsMTIyIEw4MzIuODMzNSwxMTguOTc3IEw4NDAuMzkxMiwxMjIgTDgzMi44MzM1LDEyNS4wMjMgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iNzA1IiBjeT0iMTIyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMDcsMTMxIEwyMjAsMTMxIEMyNTcuNzgzOCwxMzEgMjk3LjY5NzksMTI2LjYyMzQgMzM1LjgzNTMsMTIwLjIzNDIgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTMzNi4zNTY5LDEyMy4yNzUzIEwzMzguMTE2MSwxMTkuODQzMSBMMzM1LjMxMzcsMTE3LjE5MzIgTDM0My40MzgsMTE4LjkzMDMgTDMzNi4zNTY5LDEyMy4yNzUzICIgZmlsbD0iIzAwMDAwMCIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjA7Ii8+PGVsbGlwc2UgY3g9IjIwNyIgY3k9IjEzMSIgZmlsbD0iIzAwMDAwMCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNzkxLDI2MiBMODA0LDI2MiBDODE0LjAyODQsMjYyIDgyNC45OTE3LDI2MiA4MzQuNzk3OCwyNjIgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTgzNC43OTc4LDI2NS4wMzA1IEw4MzcuMDcwNywyNjIgTDgzNC43OTc4LDI1OC45Njk1IEw4NDIuMzc0LDI2MiBMODM0Ljc5NzgsMjY1LjAzMDUgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iNzkxIiBjeT0iMjYyIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMDcsMTUxIEwyMjAsMTUxIEMyMjkuMzc4NywxNTEgMjM4Ljg4ODcsMTUxLjI2OTcgMjQ4LjQ3MDEsMTUxLjc3MjggIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjMuMCwzLjA7Ii8+PHBhdGggZD0iTTI0OC4yODksMTU0Ljg1MjEgTDI1MC43Nzk2LDE1MS45MDg3IEwyNDguNjUxMywxNDguNjkzNSBMMjU2LjE2ODUsMTUyLjIyNTcgTDI0OC4yODksMTU0Ljg1MjEgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iMjA3IiBjeT0iMTUxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xNDgsMTQxIEwxNjEsMTQxIEMxNzAuNDIxMywxNDEgMTgwLjkxNjQsMTQxIDE4OS41NDgzLDE0MSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6My4wLDMuMDsiLz48cGF0aCBkPSJNMTg5LjU0ODMsMTQ0LjA0MzcgTDE5MS44MzExLDE0MSBMMTg5LjU0ODMsMTM3Ljk1NjMgTDE5Ny4xNTc1LDE0MSBMMTg5LjU0ODMsMTQ0LjA0MzcgIiBmaWxsPSIjMDAwMDAwIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuMDsiLz48ZWxsaXBzZSBjeD0iMTQ4IiBjeT0iMTQxIiBmaWxsPSIjMDAwMDAwIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS4wOyIvPjwhLS1TUkM9W1pQRERSbkNuNDhSbF9YTVpGSUxJNmZNMDRFSDI4UUg1OUs0SC1VMjBnY2hNRXFiRFR5VUJGS3dyZ2xoVmNMcjRIMkRId2VGamROZGRtdS16UHI0bW84X2VzVG1ScTk0NVloTmRJRFZNNXZJRHVOSG1pQVRJZWJnLVR1UHN0MXpzZFNJWXFDdzdIWk5QVXRPTGJaNFJGOVA4S3hUOWlxZnBrUmdhT3RfWGpiamRyVGFiOE9wRGlVOWRlWVpFUy1sX1RlQzJYT1Y2OXgxT2JlMkdPenhlOUUtRXV3bUZXUW5TOHlTeDJjdHE4ak43OGlVRlBUcm5pcWRBaXE0c2tON3NMalZGaGlZazNjNEZXLVZHY0I5RzQ3SFM0U2lPRGd1VzNuVE9xSnkxdlR3TlhGbXFkdWVBYndnZDI3cm5NZmFMS05WRkw4MUYwWFdMTDVyWXV0WWR0NDgxNU5CUWVmS0tBMHBfSnN1TDRacUZ0UmMtMFZlUkx4VXhDV19jSkRsZ3RmclBiQ1lvZGl6V2hyN1FEeG1PWmF2N0J1VGxTbjhTelRQeW9fd0VtVmdnVFlNMWs4aHdmZFVuYzQ3cUFMWTJtYUs5QmFfamVWbGM0bFM4Tm5FdGtaNnFOeHRMbDBfQndIeVpKN2RsV2tfa21ibmt2aHo1eUNkQmlsUklZTC1fRWxkVzE5T0tqMlZPcENyN3NnOUlycjN6QkhKUjZEUWh5dkN0UGVReUl4WkpHaUhjdWhMMFFESXRfMEswXS0tPjwvZz48L3N2Zz4=" alt="" /></p>
<p>So again to parse that we need to define a similar structure of the above response.</p>
<pre><code class="language-rust hl=[7-100] file=quiz_core/src/dto.rs">impl QuestionRequest {
    pub fn new(amount: u32) -&gt; Self {
        Self { amount }
    }
}

#[derive(Deserialize, Debug)]
pub struct QuestionResponse {
    pub response_code: u32,
    pub results: Vec&lt;Question&gt;,
}

#[derive(Deserialize, Debug)]
pub struct Question {
    category: String,
    #[serde(rename = &quot;type&quot;)]
    question_type: QuestionType,
    difficulty: QuestionDifficulty,
    question: String,
    correct_answer: String,
    incorrect_answers: Vec&lt;String&gt;,
}

#[derive(Deserialize, Debug)]
pub enum QuestionType {
    #[serde(rename = &quot;multiple&quot;)]
    Multiple,
    #[serde(rename = &quot;boolean&quot;)]
    Boolean,
}

#[derive(Deserialize, Debug)]
pub enum QuestionDifficulty {
    #[serde(rename = &quot;easy&quot;)]
    Easy,
    #[serde(rename = &quot;medium&quot;)]
    Medium,
    #[serde(rename = &quot;hard&quot;)]
    Hard,
}</code></pre>
<p>Finally, parse the response as a JSON instead of text.</p>
<pre><code class="language-rust hl=[1 10 23] file=quiz_core/src/blocking.rs">use crate::dto::{CategoryResponse, QuestionRequest, QuestionResponse};
use reqwest::blocking::Client;

pub fn fetch_categories_blocking() {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api_category.php&quot;)
        .send()
        .unwrap()
        .json::&lt;CategoryResponse&gt;()
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}

pub fn fetch_questions_blocking(query_params: QuestionRequest) {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api.php&quot;)
        .query(&amp;query_params)
        .send()
        .unwrap()
        .json::&lt;QuestionResponse&gt;()
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}</code></pre>
<pre><code class="language-rust hl=[1 11 26] file=quiz_core/src/asynchronous.rs">use crate::dto::{CategoryResponse, QuestionRequest, QuestionResponse};
use reqwest::Client;

pub async fn fetch_categories_async() {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api_category.php&quot;)
        .send()
        .await
        .unwrap()
        .json::&lt;CategoryResponse&gt;()
        .await
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}

pub async fn fetch_questions_async(query_params: QuestionRequest) {
    let client = Client::new();
    let res = client
        .get(&quot;https://opentdb.com/api.php&quot;)
        .query(&amp;query_params)
        .send()
        .await
        .unwrap()
        .json::&lt;QuestionResponse&gt;()
        .await
        .unwrap();

    println!(&quot;{:#?}&quot;, res);
}</code></pre>
<p>Now when running the client the repsonse should be pertty.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../core-lib/setup.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../core-lib/setup.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src=".././js/code-hl.js"></script>
        <script type="text/javascript" src=".././js/file-path.js"></script>


    </body>
</html>
